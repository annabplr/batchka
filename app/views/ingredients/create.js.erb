function refreshForm(innerHTML) {
  const newIngredientForm = document.getElementById('new_ingredient');
  newIngredientForm.innerHTML = innerHTML;
}

function addIngredient(ingredientHTML) {

  const ingredients = document.getElementById('ingredients');
  ingredients.insertAdjacentHTML('beforeend', ingredientHTML);
}

<% if @ingredient.errors.present? %>

  refreshForm('<%= j render "ingredients/form", menu: @menu, day: @day, repa: @repa, plat: @plat, ingredient: @ingredient %>');
<% else %>

  addIngredient('<%= j render "ingredients/show", ingredient: @ingredient %>');
  refreshForm('<%= j render "ingredients/form", menu: @menu, day: @day, repa: @repa, plat: @plat, ingredient: @new_ingredient %>');
<% end %>
